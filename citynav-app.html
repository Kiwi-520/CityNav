<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CityNav - Complete App Experience</title>
    <link rel="stylesheet" href="styles/design-tokens.css" />
    <link rel="stylesheet" href="styles/components.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", sans-serif;
        background-color: var(--background);
        overflow: hidden;
      }

      /* Full Screen SPA Container */
      .app-container {
        height: 100vh;
        display: flex;
        flex-direction: column;
        position: relative;
      }

      /* Top Status Bar */
      .status-bar {
        background-color: var(--surface);
        padding: var(--spacing-xs) var(--spacing-md);
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: var(--label-small-size);
        color: var(--on-surface-variant);
        border-bottom: 1px solid var(--outline-variant);
        z-index: 100;
      }

      .status-left {
        display: flex;
        gap: var(--spacing-sm);
        align-items: center;
      }

      .status-right {
        display: flex;
        gap: var(--spacing-xs);
        align-items: center;
      }

      .signal-bars {
        display: flex;
        gap: 1px;
        align-items: flex-end;
      }

      .bar {
        width: 3px;
        background-color: var(--primary);
        border-radius: 1px;
      }

      .bar:nth-child(1) {
        height: 3px;
      }
      .bar:nth-child(2) {
        height: 5px;
      }
      .bar:nth-child(3) {
        height: 7px;
      }
      .bar:nth-child(4) {
        height: 9px;
      }

      /* Main Content Area */
      .content-area {
        flex: 1;
        position: relative;
        overflow: hidden;
      }

      .screen {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        opacity: 0;
        transform: translateX(100%);
        transition: all var(--duration-medium) cubic-bezier(0.4, 0, 0.2, 1);
        background-color: var(--background);
        overflow-y: auto;
        padding: var(--spacing-lg);
        display: flex;
        flex-direction: column;
      }

      .screen.active {
        opacity: 1;
        transform: translateX(0);
        z-index: 10;
      }

      .screen.prev {
        transform: translateX(-100%);
      }

      /* Screen Content Styles */
      .screen-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: var(--spacing-lg);
        padding-bottom: var(--spacing-md);
        border-bottom: 1px solid var(--outline-variant);
      }

      .screen-title {
        font-size: var(--headline-large-size);
        font-weight: var(--headline-large-weight);
        color: var(--on-surface);
      }

      .header-actions {
        display: flex;
        gap: var(--spacing-sm);
      }

      /* Welcome Screen Specific */
      .welcome-content {
        text-align: center;
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        gap: var(--spacing-xl);
      }

      .logo {
        width: 120px;
        height: 120px;
        margin: 0 auto;
        background: linear-gradient(
          135deg,
          var(--primary),
          var(--primary-dark)
        );
        border-radius: var(--radius-lg);
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: var(--elevation-3);
      }

      .logo .material-icons {
        font-size: 64px;
        color: var(--on-primary);
      }

      .language-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: var(--spacing-md);
        margin: var(--spacing-xl) 0;
      }

      .language-card {
        padding: var(--spacing-md);
        border: 2px solid var(--outline-variant);
        border-radius: var(--radius-md);
        cursor: pointer;
        transition: all var(--duration-quick) ease;
        text-align: center;
      }

      .language-card:hover,
      .language-card.selected {
        border-color: var(--primary);
        background-color: var(--primary-container);
      }

      /* Home Dashboard Styles */
      .dashboard-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: var(--spacing-lg);
        margin-bottom: var(--spacing-xl);
      }

      .dashboard-card {
        background-color: var(--surface);
        border-radius: var(--radius-lg);
        padding: var(--spacing-lg);
        box-shadow: var(--elevation-2);
        border: 1px solid var(--outline-variant);
      }

      .quick-actions-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: var(--spacing-md);
      }

      .action-btn {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: var(--spacing-sm);
        padding: var(--spacing-lg);
        background-color: var(--primary-container);
        border: none;
        border-radius: var(--radius-lg);
        cursor: pointer;
        transition: all var(--duration-quick) ease;
        text-decoration: none;
        color: var(--on-primary-container);
      }

      .action-btn:hover {
        background-color: var(--primary);
        color: var(--on-primary);
        transform: translateY(-2px);
        box-shadow: var(--elevation-3);
      }

      .action-btn .material-icons {
        font-size: var(--icon-size-large);
      }

      /* Map Screen Styles */
      .map-container {
        flex: 1;
        background-color: var(--surface-variant);
        border-radius: var(--radius-lg);
        position: relative;
        overflow: hidden;
        margin-bottom: var(--spacing-lg);
      }

      .map-placeholder {
        width: 100%;
        height: 100%;
        background: linear-gradient(45deg, #e8f5e8, #f0f8f0);
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--on-surface-variant);
        font-size: var(--headline-small-size);
      }

      .map-controls {
        position: absolute;
        top: var(--spacing-md);
        right: var(--spacing-md);
        display: flex;
        flex-direction: column;
        gap: var(--spacing-sm);
      }

      .map-btn {
        width: 48px;
        height: 48px;
        border-radius: var(--radius-full);
        border: none;
        background-color: var(--surface);
        box-shadow: var(--elevation-2);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all var(--duration-quick) ease;
      }

      .map-btn:hover {
        background-color: var(--primary);
        color: var(--on-primary);
      }

      /* Search Screen Styles */
      .search-container {
        margin-bottom: var(--spacing-lg);
      }

      .search-input-container {
        position: relative;
        margin-bottom: var(--spacing-md);
      }

      .search-input {
        width: 100%;
        padding: var(--spacing-md) var(--spacing-lg);
        padding-left: 48px;
        border: 2px solid var(--outline-variant);
        border-radius: var(--radius-full);
        font-size: var(--body-large-size);
        background-color: var(--surface);
      }

      .search-input:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px var(--primary-container);
      }

      .search-icon {
        position: absolute;
        left: var(--spacing-md);
        top: 50%;
        transform: translateY(-50%);
        color: var(--on-surface-variant);
      }

      .search-categories {
        display: flex;
        gap: var(--spacing-sm);
        flex-wrap: wrap;
        margin-bottom: var(--spacing-lg);
      }

      .category-chip {
        padding: var(--spacing-sm) var(--spacing-md);
        background-color: var(--surface-variant);
        border: 1px solid var(--outline);
        border-radius: var(--radius-full);
        cursor: pointer;
        transition: all var(--duration-quick) ease;
        font-size: var(--label-medium-size);
      }

      .category-chip:hover,
      .category-chip.active {
        background-color: var(--primary);
        color: var(--on-primary);
        border-color: var(--primary);
      }

      .results-list {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-md);
      }

      .result-item {
        display: flex;
        align-items: center;
        gap: var(--spacing-md);
        padding: var(--spacing-md);
        background-color: var(--surface);
        border-radius: var(--radius-md);
        border: 1px solid var(--outline-variant);
        cursor: pointer;
        transition: all var(--duration-quick) ease;
      }

      .result-item:hover {
        background-color: var(--surface-variant);
        border-color: var(--primary);
      }

      .result-item.selected {
        background-color: var(--primary-container);
        border-color: var(--primary);
      }

      .city-option.selected .material-icons:last-child {
        color: var(--primary);
      }

      .result-icon {
        width: 48px;
        height: 48px;
        border-radius: var(--radius-md);
        background-color: var(--primary-container);
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--on-primary-container);
      }

      .result-info {
        flex: 1;
      }

      .result-name {
        font-weight: var(--label-large-weight);
        margin-bottom: 4px;
      }

      .result-details {
        font-size: var(--body-small-size);
        color: var(--on-surface-variant);
      }

      /* Bottom Navigation */
      .bottom-nav {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background-color: var(--surface);
        border-top: 1px solid var(--outline-variant);
        padding: var(--spacing-sm) 0;
        display: flex;
        z-index: 100;
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
        transition: transform var(--duration-medium) ease;
      }

      .bottom-nav.hidden {
        transform: translateY(100%);
      }

      .nav-item {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 4px;
        padding: var(--spacing-sm);
        color: var(--on-surface-variant);
        cursor: pointer;
        transition: all var(--duration-quick) ease;
        text-decoration: none;
      }

      .nav-item.active {
        color: var(--primary);
      }

      .nav-item:hover {
        color: var(--primary);
        background-color: var(--surface-variant);
      }

      .nav-label {
        font-size: var(--label-small-size);
        font-weight: var(--label-small-weight);
      }

      /* Screen Transitions */
      .screen-transition-enter {
        transform: translateX(100%);
        opacity: 0;
      }

      .screen-transition-enter-active {
        transform: translateX(0);
        opacity: 1;
        transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
      }

      .screen-transition-exit {
        transform: translateX(0);
        opacity: 1;
      }

      .screen-transition-exit-active {
        transform: translateX(-100%);
        opacity: 0;
        transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .content-area {
          padding-bottom: 80px; /* Account for bottom nav */
        }

        .screen {
          padding: var(--spacing-md);
        }

        .dashboard-grid {
          grid-template-columns: 1fr;
        }

        .quick-actions-grid {
          grid-template-columns: repeat(2, 1fr);
        }

        .search-categories {
          overflow-x: auto;
          flex-wrap: nowrap;
          padding-bottom: var(--spacing-xs);
        }
      }

      /* Custom Scrollbar */
      .screen::-webkit-scrollbar {
        width: 6px;
      }

      .screen::-webkit-scrollbar-track {
        background: var(--surface-variant);
      }

      .screen::-webkit-scrollbar-thumb {
        background: var(--outline);
        border-radius: 3px;
      }

      .screen::-webkit-scrollbar-thumb:hover {
        background: var(--outline-variant);
      }

      /* Loading Animation */
      @keyframes pulse {
        0% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
        100% {
          opacity: 1;
        }
      }

      .loading {
        animation: pulse 1.5s ease-in-out infinite;
      }

      /* New Screen Styles */

      /* Login Screen */
      .auth-container {
        padding: var(--spacing-xl) var(--spacing-lg);
        max-width: 400px;
        margin: 0 auto;
        text-align: center;
      }

      .auth-header {
        margin-bottom: var(--spacing-xl);
      }

      .auth-subtitle {
        color: var(--on-surface-variant);
        margin-top: var(--spacing-sm);
      }

      .auth-form {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-lg);
        margin-bottom: var(--spacing-xl);
      }

      .form-group {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-sm);
        text-align: left;
      }

      .form-label {
        font-weight: var(--label-large-weight);
        font-size: var(--label-large-size);
        color: var(--on-surface);
      }

      .form-input {
        padding: var(--spacing-md);
        border: 2px solid var(--outline-variant);
        border-radius: var(--radius-md);
        font-size: var(--body-large-size);
        background-color: var(--surface);
        transition: border-color var(--duration-quick) ease;
      }

      .form-input:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px var(--primary-container);
      }

      .forgot-password {
        color: var(--primary);
        text-decoration: none;
        font-size: var(--body-small-size);
      }

      .forgot-password:hover {
        text-decoration: underline;
      }

      .divider {
        display: flex;
        align-items: center;
        gap: var(--spacing-md);
        margin: var(--spacing-lg) 0;
      }

      .divider-line {
        flex: 1;
        height: 1px;
        background-color: var(--outline-variant);
      }

      .divider-text {
        color: var(--on-surface-variant);
        font-size: var(--body-small-size);
      }

      .social-auth {
        display: flex;
        flex-direction: column;
        gap: var(--spacing-md);
        margin-bottom: var(--spacing-lg);
      }

      .social-btn {
        display: flex;
        align-items: center;
        gap: var(--spacing-sm);
        justify-content: center;
      }

      .social-icon {
        font-size: 20px;
      }

      .guest-section {
        text-align: center;
        margin-bottom: var(--spacing-lg);
      }

      .guest-text {
        color: var(--on-surface-variant);
        margin-bottom: var(--spacing-sm);
      }

      .signup-prompt {
        font-size: var(--body-small-size);
        color: var(--on-surface-variant);
      }

      .signup-prompt a {
        color: var(--primary);
        text-decoration: none;
      }

      /* POI Details Screen */
      .poi-container {
        height: 100%;
        overflow-y: auto;
        padding: 0;
      }

      .poi-header {
        height: 250px;
        background: linear-gradient(
          135deg,
          var(--primary) 0%,
          var(--secondary) 100%
        );
        position: relative;
        display: flex;
        align-items: flex-end;
        padding: var(--spacing-lg);
        color: white;
      }

      .poi-nav {
        position: absolute;
        top: var(--spacing-lg);
        left: var(--spacing-lg);
        right: var(--spacing-lg);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .poi-nav-btn {
        width: 40px;
        height: 40px;
        background-color: rgba(255, 255, 255, 0.2);
        border: none;
        border-radius: var(--radius-full);
        color: white;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .poi-title {
        font-size: var(--headline-medium-size);
        font-weight: var(--headline-medium-weight);
        margin-bottom: var(--spacing-xs);
      }

      .poi-rating {
        display: flex;
        align-items: center;
        gap: var(--spacing-xs);
      }

      .poi-content {
        padding: var(--spacing-lg);
      }

      .poi-section {
        margin-bottom: var(--spacing-xl);
      }

      .poi-section-title {
        font-size: var(--headline-small-size);
        font-weight: var(--headline-small-weight);
        margin-bottom: var(--spacing-md);
        display: flex;
        align-items: center;
        gap: var(--spacing-sm);
      }

      .contact-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: var(--spacing-md);
      }

      .contact-item {
        background-color: var(--surface-variant);
        border-radius: var(--radius-md);
        padding: var(--spacing-md);
        text-align: center;
      }

      /* Route Options Screen */
      .route-container {
        height: 100%;
        overflow-y: auto;
        padding: 0;
      }

      .route-header {
        background: linear-gradient(
          135deg,
          var(--primary) 0%,
          var(--secondary) 100%
        );
        color: white;
        padding: var(--spacing-lg);
        position: relative;
      }

      .route-tabs {
        display: flex;
        gap: var(--spacing-xs);
        background-color: rgba(255, 255, 255, 0.1);
        border-radius: var(--radius-full);
        padding: var(--spacing-xs);
        margin-bottom: var(--spacing-lg);
      }

      .route-tab {
        flex: 1;
        padding: var(--spacing-sm) var(--spacing-md);
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.7);
        border-radius: var(--radius-full);
        cursor: pointer;
        transition: all var(--duration-quick) ease;
        font-size: var(--label-medium-size);
      }

      .route-tab.active {
        background-color: white;
        color: var(--primary);
      }

      .route-options {
        padding: var(--spacing-lg);
      }

      .route-card {
        background-color: var(--surface);
        border: 2px solid var(--outline-variant);
        border-radius: var(--radius-lg);
        padding: var(--spacing-lg);
        margin-bottom: var(--spacing-md);
        cursor: pointer;
        transition: all var(--duration-quick) ease;
      }

      .route-card:hover {
        border-color: var(--primary);
        box-shadow: var(--elevation-1);
      }

      .route-card.selected {
        border-color: var(--primary);
        background-color: var(--primary-container);
      }

      /* Loading Screen */
      .loading-container {
        height: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        background: linear-gradient(
          135deg,
          var(--primary) 0%,
          var(--secondary) 100%
        );
        color: white;
      }

      .loading-logo {
        width: 120px;
        height: 120px;
        background: rgba(255, 255, 255, 0.15);
        border-radius: var(--radius-full);
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: var(--spacing-xl);
        animation: pulse 2s ease-in-out infinite;
      }

      .loading-title {
        font-size: var(--headline-large-size);
        font-weight: var(--headline-large-weight);
        margin-bottom: var(--spacing-md);
      }

      .loading-message {
        font-size: var(--body-large-size);
        margin-bottom: var(--spacing-xl);
        opacity: 0.9;
      }

      /* Error Screen */
      .error-container {
        height: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: var(--spacing-xl);
      }

      .error-illustration {
        width: 200px;
        height: 200px;
        margin-bottom: var(--spacing-xl);
        animation: float 3s ease-in-out infinite;
      }

      .error-circle {
        width: 180px;
        height: 180px;
        background: linear-gradient(135deg, var(--error) 0%, #d32f2f 100%);
        border-radius: var(--radius-full);
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
        box-shadow: 0 8px 32px rgba(211, 47, 47, 0.3);
      }

      .error-number {
        font-size: 72px;
        font-weight: 800;
        color: white;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      /* Feedback Modal */
      .feedback-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.6);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        backdrop-filter: blur(8px);
      }

      .feedback-modal {
        background-color: var(--surface);
        border-radius: var(--radius-xl);
        width: 90%;
        max-width: 480px;
        max-height: 90vh;
        overflow-y: auto;
        box-shadow: var(--elevation-5);
      }

      /* Navigation Screen */
      .navigation-container {
        height: 100%;
        position: relative;
        background-color: var(--background);
        overflow: hidden;
      }

      .nav-map {
        flex: 1;
        background: linear-gradient(135deg, #e8f5e8 0%, #f0f9f0 100%);
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .nav-top-bar {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        background: linear-gradient(
          180deg,
          rgba(0, 0, 0, 0.7) 0%,
          transparent 100%
        );
        padding: var(--spacing-lg) var(--spacing-md) var(--spacing-md);
        z-index: 20;
        color: white;
      }

      .instruction-panel {
        position: absolute;
        bottom: 200px;
        left: var(--spacing-md);
        right: var(--spacing-md);
        background-color: var(--surface);
        border-radius: var(--radius-lg);
        box-shadow: var(--elevation-4);
        padding: var(--spacing-lg);
        z-index: 10;
      }

      /* Privacy Policy */
      .privacy-container {
        height: 100%;
        overflow-y: auto;
        padding: var(--spacing-lg);
      }

      .privacy-header {
        background: linear-gradient(
          135deg,
          var(--primary) 0%,
          var(--secondary) 100%
        );
        color: white;
        padding: var(--spacing-xl) var(--spacing-lg);
        border-radius: var(--radius-lg);
        text-align: center;
        margin-bottom: var(--spacing-lg);
      }

      .privacy-content {
        max-width: 600px;
        margin: 0 auto;
      }

      .privacy-section {
        margin-bottom: var(--spacing-xl);
      }

      .section-title {
        font-size: var(--headline-medium-size);
        font-weight: var(--headline-medium-weight);
        color: var(--on-surface);
        margin-bottom: var(--spacing-md);
        display: flex;
        align-items: center;
        gap: var(--spacing-sm);
      }
    </style>
  </head>
  <body>
    <div class="app-container">
      <!-- Status Bar -->
      <div class="status-bar">
        <div class="status-left">
          <span id="currentTime">9:41</span>
          <span>CityNav</span>
        </div>
        <div class="status-right">
          <div class="signal-bars">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
          </div>
          <span>100%</span>
          <span class="material-icons" style="font-size: 16px"
            >battery_full</span
          >
        </div>
      </div>

      <!-- Main Content Area -->
      <div class="content-area">
        <!-- Welcome Screen -->
        <div class="screen active" id="welcome">
          <div class="welcome-content">
            <div class="logo">
              <span class="material-icons">navigation</span>
            </div>
            <div>
              <h1
                class="screen-title"
                style="text-align: center; margin-bottom: var(--spacing-md)"
              >
                Welcome to CityNav
              </h1>
              <p
                class="body-large"
                style="text-align: center; color: var(--on-surface-variant)"
              >
                Your smart city navigation companion
              </p>
            </div>

            <div>
              <h3 style="margin-bottom: var(--spacing-md); text-align: center">
                Choose your language
              </h3>
              <div class="language-grid">
                <div class="language-card selected" data-lang="en">
                  <div style="font-size: 24px; margin-bottom: 8px">üá∫üá∏</div>
                  <div>English</div>
                </div>
                <div class="language-card" data-lang="hi">
                  <div style="font-size: 24px; margin-bottom: 8px">üáÆüá≥</div>
                  <div>‡§π‡§ø‡§Ç‡§¶‡•Ä</div>
                </div>
                <div class="language-card" data-lang="mr">
                  <div style="font-size: 24px; margin-bottom: 8px">üáÆüá≥</div>
                  <div>‡§Æ‡§∞‡§æ‡§†‡•Ä</div>
                </div>
                <div class="language-card" data-lang="te">
                  <div style="font-size: 24px; margin-bottom: 8px">üáÆüá≥</div>
                  <div>‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</div>
                </div>
              </div>
            </div>

            <button
              class="btn btn-primary btn-large"
              onclick="navigateToScreen('feature-tour')"
              style="align-self: center"
            >
              Get Started
              <span class="material-icons">arrow_forward</span>
            </button>
          </div>
        </div>

        <!-- Feature Tour Screen -->
        <div class="screen" id="feature-tour">
          <div class="welcome-content">
            <div style="text-align: center; margin-bottom: var(--spacing-xl)">
              <div class="logo" style="margin-bottom: var(--spacing-lg)">
                <span class="material-icons">tour</span>
              </div>
              <h2 class="screen-title">Discover CityNav Features</h2>
              <p
                class="body-large"
                style="
                  color: var(--on-surface-variant);
                  margin-top: var(--spacing-sm);
                "
              >
                Navigate your city with confidence
              </p>
            </div>

            <div
              class="dashboard-grid"
              style="margin-bottom: var(--spacing-xl)"
            >
              <div class="dashboard-card" style="text-align: center">
                <span
                  class="material-icons"
                  style="
                    font-size: 48px;
                    color: var(--primary);
                    margin-bottom: var(--spacing-md);
                  "
                  >navigation</span
                >
                <h3 style="margin-bottom: var(--spacing-sm)">
                  Smart Navigation
                </h3>
                <p class="body-medium" style="color: var(--on-surface-variant)">
                  Real-time GPS navigation with traffic updates and alternate
                  routes
                </p>
              </div>

              <div class="dashboard-card" style="text-align: center">
                <span
                  class="material-icons"
                  style="
                    font-size: 48px;
                    color: var(--primary);
                    margin-bottom: var(--spacing-md);
                  "
                  >shield</span
                >
                <h3 style="margin-bottom: var(--spacing-sm)">Safety First</h3>
                <p class="body-medium" style="color: var(--on-surface-variant)">
                  Emergency SOS, safe routes, and location sharing for peace of
                  mind
                </p>
              </div>

              <div class="dashboard-card" style="text-align: center">
                <span
                  class="material-icons"
                  style="
                    font-size: 48px;
                    color: var(--primary);
                    margin-bottom: var(--spacing-md);
                  "
                  >cloud_download</span
                >
                <h3 style="margin-bottom: var(--spacing-sm)">Offline Ready</h3>
                <p class="body-medium" style="color: var(--on-surface-variant)">
                  Download maps for offline navigation when you need it most
                </p>
              </div>
            </div>

            <div
              style="display: flex; gap: var(--spacing-md); align-self: center"
            >
              <button
                class="btn btn-text"
                onclick="navigateToScreen('location-permission')"
              >
                Skip Tour
              </button>
              <button
                class="btn btn-primary btn-large"
                onclick="navigateToScreen('location-permission')"
              >
                Continue
                <span class="material-icons">arrow_forward</span>
              </button>
            </div>
          </div>
        </div>

        <!-- Location Permission Screen -->
        <div class="screen" id="location-permission">
          <div class="welcome-content">
            <div style="text-align: center; margin-bottom: var(--spacing-xl)">
              <div class="logo" style="margin-bottom: var(--spacing-lg)">
                <span class="material-icons">location_on</span>
              </div>
              <h2 class="screen-title">Enable Location Services</h2>
              <p
                class="body-large"
                style="
                  color: var(--on-surface-variant);
                  margin-top: var(--spacing-sm);
                "
              >
                Allow CityNav to access your location for personalized
                navigation
              </p>
            </div>

            <div
              class="dashboard-card"
              style="margin-bottom: var(--spacing-xl)"
            >
              <div
                style="
                  display: flex;
                  align-items: center;
                  gap: var(--spacing-md);
                  margin-bottom: var(--spacing-lg);
                "
              >
                <span
                  class="material-icons"
                  style="color: var(--primary); font-size: 32px"
                  >security</span
                >
                <div>
                  <h3>Your Privacy Matters</h3>
                  <p style="margin: 0; color: var(--on-surface-variant)">
                    We use your location only to provide navigation services.
                    Your data stays secure.
                  </p>
                </div>
              </div>

              <div class="results-list">
                <div
                  class="result-item"
                  style="border: none; padding: var(--spacing-sm) 0"
                >
                  <span class="material-icons" style="color: var(--primary)"
                    >check_circle</span
                  >
                  <div class="result-info">
                    <div class="result-name">Real-time navigation</div>
                  </div>
                </div>
                <div
                  class="result-item"
                  style="border: none; padding: var(--spacing-sm) 0"
                >
                  <span class="material-icons" style="color: var(--primary)"
                    >check_circle</span
                  >
                  <div class="result-info">
                    <div class="result-name">Nearby places discovery</div>
                  </div>
                </div>
                <div
                  class="result-item"
                  style="border: none; padding: var(--spacing-sm) 0"
                >
                  <span class="material-icons" style="color: var(--primary)"
                    >check_circle</span
                  >
                  <div class="result-info">
                    <div class="result-name">Emergency location sharing</div>
                  </div>
                </div>
              </div>
            </div>

            <div
              style="
                display: flex;
                flex-direction: column;
                gap: var(--spacing-md);
                align-self: center;
                width: 100%;
                max-width: 300px;
              "
            >
              <button
                class="btn btn-primary btn-large"
                onclick="requestLocation()"
              >
                <span class="material-icons">location_on</span>
                Allow Location Access
              </button>
              <button
                class="btn btn-text"
                onclick="navigateToScreen('city-selection')"
              >
                Set Location Manually
              </button>
            </div>
          </div>
        </div>

        <!-- City Selection Screen -->
        <div class="screen" id="city-selection">
          <div class="welcome-content">
            <div style="text-align: center; margin-bottom: var(--spacing-xl)">
              <div class="logo" style="margin-bottom: var(--spacing-lg)">
                <span class="material-icons">location_city</span>
              </div>
              <h2 class="screen-title">Select Your City</h2>
              <p
                class="body-large"
                style="
                  color: var(--on-surface-variant);
                  margin-top: var(--spacing-sm);
                "
              >
                Choose your city for personalized recommendations
              </p>
            </div>

            <div
              class="search-input-container"
              style="margin-bottom: var(--spacing-lg)"
            >
              <span class="material-icons search-icon">search</span>
              <input
                type="text"
                class="search-input"
                placeholder="Search for your city..."
                id="citySearchInput"
              />
            </div>

            <div class="results-list" style="margin-bottom: var(--spacing-xl)">
              <div class="result-item city-option" data-city="Pune">
                <div class="result-icon">
                  <span class="material-icons">location_city</span>
                </div>
                <div class="result-info">
                  <div class="result-name">Pune</div>
                  <div class="result-details">
                    Maharashtra, India ‚Ä¢ Popular choice
                  </div>
                </div>
                <span class="material-icons">radio_button_unchecked</span>
              </div>
              <div class="result-item city-option" data-city="Mumbai">
                <div class="result-icon">
                  <span class="material-icons">location_city</span>
                </div>
                <div class="result-info">
                  <div class="result-name">Mumbai</div>
                  <div class="result-details">
                    Maharashtra, India ‚Ä¢ Metro available
                  </div>
                </div>
                <span class="material-icons">radio_button_unchecked</span>
              </div>
              <div class="result-item city-option" data-city="Bangalore">
                <div class="result-icon">
                  <span class="material-icons">location_city</span>
                </div>
                <div class="result-info">
                  <div class="result-name">Bangalore</div>
                  <div class="result-details">Karnataka, India ‚Ä¢ IT Hub</div>
                </div>
                <span class="material-icons">radio_button_unchecked</span>
              </div>
            </div>

            <button
              class="btn btn-primary btn-large"
              onclick="completeSetup()"
              style="align-self: center"
              disabled
              id="confirmCityBtn"
            >
              Confirm Selection
              <span class="material-icons">arrow_forward</span>
            </button>
          </div>
        </div>

        <!-- Setup Complete Screen -->
        <div class="screen" id="setup-complete">
          <div class="welcome-content">
            <div style="text-align: center">
              <div class="logo" style="margin-bottom: var(--spacing-lg)">
                <span class="material-icons">check_circle</span>
              </div>
              <h2 class="screen-title" style="margin-bottom: var(--spacing-md)">
                You're All Set!
              </h2>
              <p
                class="body-large"
                style="
                  color: var(--on-surface-variant);
                  margin-bottom: var(--spacing-xl);
                "
              >
                Welcome to CityNav. Start exploring your city with confidence.
              </p>

              <div
                class="dashboard-card"
                style="margin-bottom: var(--spacing-xl)"
              >
                <h3
                  style="text-align: center; margin-bottom: var(--spacing-lg)"
                >
                  Quick Tips
                </h3>
                <div class="results-list">
                  <div class="result-item" style="border: none">
                    <div class="result-icon">
                      <span class="material-icons">touch_app</span>
                    </div>
                    <div class="result-info">
                      <div class="result-name">
                        Long press the SOS button for emergencies
                      </div>
                    </div>
                  </div>
                  <div class="result-item" style="border: none">
                    <div class="result-icon">
                      <span class="material-icons">download</span>
                    </div>
                    <div class="result-info">
                      <div class="result-name">
                        Download offline maps for your area
                      </div>
                    </div>
                  </div>
                  <div class="result-item" style="border: none">
                    <div class="result-icon">
                      <span class="material-icons">star</span>
                    </div>
                    <div class="result-info">
                      <div class="result-name">
                        Save frequently visited places
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <button
                class="btn btn-primary btn-large"
                onclick="completeOnboarding()"
                style="align-self: center"
              >
                Start Navigating
                <span class="material-icons">navigation</span>
              </button>
            </div>
          </div>
        </div>

        <!-- Home Dashboard Screen -->
        <div class="screen" id="home">
          <div class="screen-header">
            <div>
              <h2 class="screen-title">Good Morning!</h2>
              <p class="body-medium" style="color: var(--on-surface-variant)">
                Pune ‚Ä¢ 24¬∞C ‚Ä¢ Sunny
              </p>
            </div>
            <div class="header-actions">
              <button
                class="btn btn-icon"
                onclick="navigateToScreen('profile')"
              >
                <span class="material-icons">notifications</span>
              </button>
              <button
                class="btn btn-icon"
                onclick="navigateToScreen('profile')"
              >
                <span class="material-icons">person</span>
              </button>
            </div>
          </div>

          <div class="dashboard-grid">
            <!-- Quick Actions -->
            <div class="dashboard-card">
              <h3 style="margin-bottom: var(--spacing-md)">Quick Actions</h3>
              <div class="quick-actions-grid">
                <button class="action-btn" onclick="navigateToScreen('search')">
                  <span class="material-icons">search</span>
                  <span class="label-medium">Find Places</span>
                </button>
                <button class="action-btn" onclick="navigateToScreen('map')">
                  <span class="material-icons">directions</span>
                  <span class="label-medium">Get Directions</span>
                </button>
                <button class="action-btn" onclick="navigateToScreen('nearby')">
                  <span class="material-icons">place</span>
                  <span class="label-medium">Nearby</span>
                </button>
                <button class="action-btn" onclick="navigateToScreen('safety')">
                  <span class="material-icons">shield</span>
                  <span class="label-medium">Safety</span>
                </button>
                <button
                  class="action-btn"
                  onclick="navigateToScreen('offline')"
                >
                  <span class="material-icons">cloud_download</span>
                  <span class="label-medium">Offline Maps</span>
                </button>
                <button
                  class="action-btn"
                  onclick="navigateToScreen('profile')"
                >
                  <span class="material-icons">settings</span>
                  <span class="label-medium">Settings</span>
                </button>
              </div>
            </div>

            <!-- Recent Activity -->
            <div class="dashboard-card">
              <h3 style="margin-bottom: var(--spacing-md)">Recent Activity</h3>
              <div class="results-list">
                <div class="result-item">
                  <div class="result-icon">
                    <span class="material-icons">directions</span>
                  </div>
                  <div class="result-info">
                    <div class="result-name">Route to Phoenix Mall</div>
                    <div class="result-details">2 hours ago ‚Ä¢ 15 min drive</div>
                  </div>
                  <span class="material-icons">chevron_right</span>
                </div>
                <div class="result-item">
                  <div class="result-icon">
                    <span class="material-icons">bookmark</span>
                  </div>
                  <div class="result-info">
                    <div class="result-name">Saved: Ruby Hall Clinic</div>
                    <div class="result-details">Yesterday ‚Ä¢ Healthcare</div>
                  </div>
                  <span class="material-icons">chevron_right</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Interactive Map Screen -->
        <div class="screen" id="map">
          <div class="screen-header">
            <h2 class="screen-title">Interactive Map</h2>
            <div class="header-actions">
              <button class="btn btn-icon">
                <span class="material-icons">my_location</span>
              </button>
              <button class="btn btn-icon">
                <span class="material-icons">layers</span>
              </button>
            </div>
          </div>

          <div class="map-container">
            <div class="map-placeholder">
              <div style="text-align: center">
                <span
                  class="material-icons"
                  style="font-size: 64px; margin-bottom: var(--spacing-md)"
                  >map</span
                >
                <div>Interactive Map View</div>
                <div
                  class="body-small"
                  style="
                    color: var(--on-surface-variant);
                    margin-top: var(--spacing-xs);
                  "
                >
                  GPS navigation and real-time traffic
                </div>
              </div>
            </div>
            <div class="map-controls">
              <button class="map-btn" title="Zoom In">
                <span class="material-icons">add</span>
              </button>
              <button class="map-btn" title="Zoom Out">
                <span class="material-icons">remove</span>
              </button>
              <button class="map-btn" title="My Location">
                <span class="material-icons">my_location</span>
              </button>
              <button class="map-btn" title="Traffic">
                <span class="material-icons">traffic</span>
              </button>
            </div>
          </div>

          <div class="dashboard-card">
            <h3 style="margin-bottom: var(--spacing-md)">Map Features</h3>
            <div class="results-list">
              <div class="result-item">
                <div class="result-icon">
                  <span class="material-icons">traffic</span>
                </div>
                <div class="result-info">
                  <div class="result-name">Real-time Traffic</div>
                  <div class="result-details">
                    Live traffic updates and alternate routes
                  </div>
                </div>
              </div>
              <div class="result-item">
                <div class="result-icon">
                  <span class="material-icons">directions_transit</span>
                </div>
                <div class="result-info">
                  <div class="result-name">Public Transport</div>
                  <div class="result-details">
                    Bus, metro, and auto-rickshaw routes
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Search & Discovery Screen -->
        <div class="screen" id="search">
          <div class="screen-header">
            <h2 class="screen-title">Search & Discovery</h2>
            <div class="header-actions">
              <button class="btn btn-icon">
                <span class="material-icons">filter_list</span>
              </button>
            </div>
          </div>

          <div class="search-container">
            <div class="search-input-container">
              <span class="material-icons search-icon">search</span>
              <input
                type="text"
                class="search-input"
                placeholder="Search for places, services..."
                id="searchInput"
              />
            </div>

            <div class="search-categories">
              <div class="category-chip active" data-category="all">All</div>
              <div class="category-chip" data-category="restaurants">
                Restaurants
              </div>
              <div class="category-chip" data-category="shopping">Shopping</div>
              <div class="category-chip" data-category="healthcare">
                Healthcare
              </div>
              <div class="category-chip" data-category="transport">
                Transport
              </div>
              <div class="category-chip" data-category="entertainment">
                Entertainment
              </div>
            </div>
          </div>

          <div class="results-list" id="searchResults">
            <div class="result-item">
              <div class="result-icon">
                <span class="material-icons">restaurant</span>
              </div>
              <div class="result-info">
                <div class="result-name">Vaishali Restaurant</div>
                <div class="result-details">
                  South Indian ‚Ä¢ 0.8 km ‚Ä¢ ‚≠ê 4.5 (1,234 reviews)
                </div>
              </div>
              <span class="material-icons">directions</span>
            </div>
            <div class="result-item">
              <div class="result-icon">
                <span class="material-icons">local_hospital</span>
              </div>
              <div class="result-info">
                <div class="result-name">Ruby Hall Clinic</div>
                <div class="result-details">
                  Hospital ‚Ä¢ 1.2 km ‚Ä¢ 24/7 Emergency
                </div>
              </div>
              <span class="material-icons">directions</span>
            </div>
            <div class="result-item">
              <div class="result-icon">
                <span class="material-icons">shopping_mall</span>
              </div>
              <div class="result-info">
                <div class="result-name">Phoenix MarketCity</div>
                <div class="result-details">
                  Shopping Mall ‚Ä¢ 2.1 km ‚Ä¢ Open until 11:00 PM
                </div>
              </div>
              <span class="material-icons">directions</span>
            </div>
          </div>
        </div>

        <!-- Nearby Places Screen -->
        <div class="screen" id="nearby">
          <div class="screen-header">
            <h2 class="screen-title">Nearby Places</h2>
            <div class="header-actions">
              <button class="btn btn-icon">
                <span class="material-icons">tune</span>
              </button>
            </div>
          </div>

          <div class="search-categories">
            <div class="category-chip active" data-category="all">All</div>
            <div class="category-chip" data-category="food">Food</div>
            <div class="category-chip" data-category="fuel">Fuel</div>
            <div class="category-chip" data-category="atm">ATM</div>
            <div class="category-chip" data-category="parking">Parking</div>
          </div>

          <div class="results-list">
            <div class="result-item">
              <div class="result-icon">
                <span class="material-icons">local_gas_station</span>
              </div>
              <div class="result-info">
                <div class="result-name">HP Petrol Pump</div>
                <div class="result-details">0.3 km ‚Ä¢ Open 24/7</div>
              </div>
              <span class="material-icons">directions</span>
            </div>
            <div class="result-item">
              <div class="result-icon">
                <span class="material-icons">local_atm</span>
              </div>
              <div class="result-info">
                <div class="result-name">SBI ATM</div>
                <div class="result-details">0.5 km ‚Ä¢ Cash available</div>
              </div>
              <span class="material-icons">directions</span>
            </div>
            <div class="result-item">
              <div class="result-icon">
                <span class="material-icons">local_parking</span>
              </div>
              <div class="result-info">
                <div class="result-name">City Center Parking</div>
                <div class="result-details">
                  0.7 km ‚Ä¢ ‚Çπ20/hour ‚Ä¢ Available spots: 15
                </div>
              </div>
              <span class="material-icons">directions</span>
            </div>
          </div>
        </div>

        <!-- Safety Features Screen -->
        <div class="screen" id="safety">
          <div class="screen-header">
            <h2 class="screen-title">Safety Features</h2>
            <div class="header-actions">
              <button class="btn btn-icon">
                <span class="material-icons">settings</span>
              </button>
            </div>
          </div>

          <div
            class="dashboard-card"
            style="
              background-color: var(--error-container);
              margin-bottom: var(--spacing-lg);
            "
          >
            <div
              style="
                display: flex;
                align-items: center;
                gap: var(--spacing-md);
                margin-bottom: var(--spacing-md);
              "
            >
              <span
                class="material-icons"
                style="
                  color: var(--on-error-container);
                  font-size: var(--icon-size-large);
                "
                >emergency</span
              >
              <div>
                <h3 style="color: var(--on-error-container)">Emergency SOS</h3>
                <p
                  style="
                    color: var(--on-error-container);
                    opacity: 0.8;
                    margin: 0;
                  "
                >
                  Hold for 3 seconds to activate
                </p>
              </div>
            </div>
            <button
              class="btn"
              style="
                background-color: var(--error);
                color: var(--on-error);
                width: 100%;
              "
            >
              <span class="material-icons">emergency</span>
              Emergency SOS
            </button>
          </div>

          <div class="results-list">
            <div class="result-item">
              <div class="result-icon">
                <span class="material-icons">shield</span>
              </div>
              <div class="result-info">
                <div class="result-name">Safe Routes</div>
                <div class="result-details">
                  Well-lit routes with good connectivity
                </div>
              </div>
              <span class="material-icons">toggle_on</span>
            </div>
            <div class="result-item">
              <div class="result-icon">
                <span class="material-icons">share_location</span>
              </div>
              <div class="result-info">
                <div class="result-name">Live Location Sharing</div>
                <div class="result-details">
                  Share your location with trusted contacts
                </div>
              </div>
              <span class="material-icons">chevron_right</span>
            </div>
            <div class="result-item">
              <div class="result-icon">
                <span class="material-icons">local_police</span>
              </div>
              <div class="result-info">
                <div class="result-name">Nearby Police Stations</div>
                <div class="result-details">
                  Find nearest police stations and emergency services
                </div>
              </div>
              <span class="material-icons">chevron_right</span>
            </div>
          </div>
        </div>

        <!-- Offline Downloads Screen -->
        <div class="screen" id="offline">
          <div class="screen-header">
            <h2 class="screen-title">Offline Maps</h2>
            <div class="header-actions">
              <button class="btn btn-icon">
                <span class="material-icons">storage</span>
              </button>
            </div>
          </div>

          <div class="dashboard-card" style="margin-bottom: var(--spacing-lg)">
            <div
              style="
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: var(--spacing-md);
              "
            >
              <div>
                <h3>Storage Used</h3>
                <p style="margin: 0; color: var(--on-surface-variant)">
                  2.1 GB of 5 GB available
                </p>
              </div>
              <span
                class="material-icons"
                style="font-size: var(--icon-size-large)"
                >sd_storage</span
              >
            </div>
            <div
              style="
                background-color: var(--outline-variant);
                height: 8px;
                border-radius: 4px;
                overflow: hidden;
              "
            >
              <div
                style="
                  background-color: var(--primary);
                  height: 100%;
                  width: 42%;
                  border-radius: 4px;
                "
              ></div>
            </div>
          </div>

          <div class="results-list">
            <div class="result-item">
              <div class="result-icon">
                <span class="material-icons">download_done</span>
              </div>
              <div class="result-info">
                <div class="result-name">Pune City Center</div>
                <div class="result-details">
                  Downloaded ‚Ä¢ 450 MB ‚Ä¢ Updated 2 days ago
                </div>
              </div>
              <span class="material-icons">more_vert</span>
            </div>
            <div class="result-item">
              <div class="result-icon">
                <span class="material-icons">download</span>
              </div>
              <div class="result-info">
                <div class="result-name">Pune Airport Area</div>
                <div class="result-details">
                  Available ‚Ä¢ 320 MB ‚Ä¢ High priority
                </div>
              </div>
              <button class="btn btn-primary btn-small">Download</button>
            </div>
            <div class="result-item">
              <div class="result-icon">
                <span class="material-icons">download</span>
              </div>
              <div class="result-info">
                <div class="result-name">Mumbai Highway Route</div>
                <div class="result-details">
                  Available ‚Ä¢ 680 MB ‚Ä¢ For offline navigation
                </div>
              </div>
              <button class="btn btn-primary btn-small">Download</button>
            </div>
          </div>
        </div>

        <!-- Profile & Settings Screen -->
        <div class="screen" id="profile">
          <div class="screen-header">
            <h2 class="screen-title">Profile & Settings</h2>
            <div class="header-actions">
              <button class="btn btn-icon">
                <span class="material-icons">edit</span>
              </button>
            </div>
          </div>

          <div
            class="dashboard-card"
            style="text-align: center; margin-bottom: var(--spacing-lg)"
          >
            <div
              style="
                width: 80px;
                height: 80px;
                border-radius: var(--radius-full);
                background-color: var(--primary);
                margin: 0 auto var(--spacing-md);
                display: flex;
                align-items: center;
                justify-content: center;
              "
            >
              <span
                class="material-icons"
                style="font-size: 40px; color: var(--on-primary)"
                >person</span
              >
            </div>
            <h3>John Doe</h3>
            <p style="color: var(--on-surface-variant); margin: 0">
              john.doe@email.com
            </p>
          </div>

          <div class="results-list">
            <div class="result-item">
              <div class="result-icon">
                <span class="material-icons">account_circle</span>
              </div>
              <div class="result-info">
                <div class="result-name">Personal Information</div>
                <div class="result-details">Update your profile details</div>
              </div>
              <span class="material-icons">chevron_right</span>
            </div>
            <div class="result-item">
              <div class="result-icon">
                <span class="material-icons">language</span>
              </div>
              <div class="result-info">
                <div class="result-name">Language & Region</div>
                <div class="result-details">English (US) ‚Ä¢ Pune, India</div>
              </div>
              <span class="material-icons">chevron_right</span>
            </div>
            <div class="result-item">
              <div class="result-icon">
                <span class="material-icons">notifications</span>
              </div>
              <div class="result-info">
                <div class="result-name">Notifications</div>
                <div class="result-details">
                  Manage your notification preferences
                </div>
              </div>
              <span class="material-icons">chevron_right</span>
            </div>
            <div class="result-item">
              <div class="result-icon">
                <span class="material-icons">privacy_tip</span>
              </div>
              <div class="result-info">
                <div class="result-name">Privacy & Data</div>
                <div class="result-details">Control your privacy settings</div>
              </div>
              <span class="material-icons">chevron_right</span>
            </div>
          </div>
        </div>

        <!-- Login Screen -->
        <div class="screen" id="login">
          <div class="auth-container">
            <div class="auth-header">
              <div class="logo">
                <span class="material-icons">navigation</span>
              </div>
              <h1 class="screen-title">Sign In</h1>
              <p class="auth-subtitle">
                Welcome back! Sign in to continue your journey
              </p>
            </div>

            <div class="auth-form">
              <div class="form-group">
                <label class="form-label">Email</label>
                <input
                  type="email"
                  class="form-input"
                  placeholder="Enter your email"
                />
              </div>

              <div class="form-group">
                <label class="form-label">Password</label>
                <input
                  type="password"
                  class="form-input"
                  placeholder="Enter your password"
                />
              </div>

              <div style="text-align: right">
                <a
                  href="#"
                  class="forgot-password"
                  onclick="showToast('Reset link sent to email')"
                  >Forgot password?</a
                >
              </div>

              <button class="btn btn-primary" onclick="performLogin()">
                <span class="material-icons">login</span>
                Sign In
              </button>
            </div>

            <div class="divider">
              <div class="divider-line"></div>
              <span class="divider-text">or continue with</span>
              <div class="divider-line"></div>
            </div>

            <div class="social-auth">
              <button
                class="btn btn-outlined social-btn"
                onclick="loginWithGoogle()"
              >
                <span class="social-icon">üîç</span>
                Continue with Google
              </button>

              <button
                class="btn btn-outlined social-btn"
                onclick="loginWithApple()"
              >
                <span class="social-icon">üçé</span>
                Continue with Apple
              </button>
            </div>

            <div class="guest-section">
              <p class="guest-text">Just exploring?</p>
              <button class="btn btn-text" onclick="continueAsGuest()">
                <span class="material-icons">explore</span>
                Continue as Guest
              </button>
            </div>
          </div>
        </div>

        <!-- POI Details Screen -->
        <div class="screen" id="poi-details">
          <div class="poi-container">
            <div class="poi-header">
              <div class="poi-nav">
                <button
                  class="poi-nav-btn"
                  onclick="navigateToScreen('search')"
                >
                  <span class="material-icons">arrow_back</span>
                </button>
                <div style="display: flex; gap: var(--spacing-xs)">
                  <button class="poi-nav-btn" onclick="sharePOI()">
                    <span class="material-icons">share</span>
                  </button>
                  <button class="poi-nav-btn" onclick="savePOI()">
                    <span class="material-icons">favorite_border</span>
                  </button>
                </div>
              </div>
              <div>
                <h1 class="poi-title">Phoenix MarketCity</h1>
                <div class="poi-rating">
                  <span style="color: #ffc107">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                  <span>4.3 ‚Ä¢ 2,847 reviews</span>
                </div>
              </div>
            </div>

            <div class="poi-content">
              <div class="poi-section">
                <h3 class="poi-section-title">
                  <span class="material-icons">info</span>
                  About
                </h3>
                <p>
                  Large shopping mall with international brands, food court,
                  cinema, and entertainment options.
                </p>
              </div>

              <div class="poi-section">
                <h3 class="poi-section-title">
                  <span class="material-icons">contact_phone</span>
                  Contact & Hours
                </h3>
                <div class="contact-grid">
                  <div class="contact-item">
                    <span
                      class="material-icons"
                      style="
                        color: var(--primary);
                        margin-bottom: var(--spacing-xs);
                      "
                      >phone</span
                    >
                    <div>+91 20 6745 4000</div>
                  </div>
                  <div class="contact-item">
                    <span
                      class="material-icons"
                      style="
                        color: var(--primary);
                        margin-bottom: var(--spacing-xs);
                      "
                      >schedule</span
                    >
                    <div>10:00 AM - 10:00 PM</div>
                  </div>
                  <div class="contact-item">
                    <span
                      class="material-icons"
                      style="
                        color: var(--primary);
                        margin-bottom: var(--spacing-xs);
                      "
                      >language</span
                    >
                    <div>Visit Website</div>
                  </div>
                  <div class="contact-item">
                    <span
                      class="material-icons"
                      style="
                        color: var(--primary);
                        margin-bottom: var(--spacing-xs);
                      "
                      >local_parking</span
                    >
                    <div>Parking Available</div>
                  </div>
                </div>
              </div>

              <div
                style="
                  display: flex;
                  gap: var(--spacing-md);
                  margin-top: var(--spacing-lg);
                "
              >
                <button
                  class="btn btn-primary"
                  onclick="navigateToScreen('route-options')"
                  style="flex: 1"
                >
                  <span class="material-icons">directions</span>
                  Get Directions
                </button>
                <button class="btn btn-outlined" onclick="callPlace()">
                  <span class="material-icons">call</span>
                  Call
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Route Options Screen -->
        <div class="screen" id="route-options">
          <div class="route-container">
            <div class="route-header">
              <button
                class="poi-nav-btn"
                onclick="navigateToScreen('poi-details')"
                style="margin-bottom: var(--spacing-md)"
              >
                <span class="material-icons">arrow_back</span>
              </button>

              <div class="route-tabs">
                <button class="route-tab active" data-mode="drive">
                  üöó Drive
                </button>
                <button class="route-tab" data-mode="transit">
                  üöå Transit
                </button>
                <button class="route-tab" data-mode="walk">üö∂ Walk</button>
                <button class="route-tab" data-mode="bike">üö¥ Bike</button>
              </div>

              <div style="color: rgba(255, 255, 255, 0.9); text-align: center">
                <div
                  style="font-size: var(--body-large-size); margin-bottom: 4px"
                >
                  Your Location ‚Üí Phoenix MarketCity
                </div>
                <div style="font-size: var(--body-small-size)">
                  3 routes available
                </div>
              </div>
            </div>

            <div class="route-options">
              <div class="route-card selected" onclick="selectRoute(0)">
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: var(--spacing-sm);
                  "
                >
                  <div>
                    <div
                      style="
                        color: var(--primary);
                        font-weight: 600;
                        font-size: var(--body-large-size);
                      "
                    >
                      18 min
                    </div>
                    <div
                      style="
                        color: var(--on-surface-variant);
                        font-size: var(--body-small-size);
                      "
                    >
                      5.2 km ‚Ä¢ Fastest route
                    </div>
                  </div>
                  <div style="color: var(--success, #4caf50)">
                    <span class="material-icons">radio_button_checked</span>
                  </div>
                </div>
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: var(--spacing-xs);
                    margin-bottom: var(--spacing-sm);
                  "
                >
                  <span
                    class="material-icons"
                    style="font-size: 16px; color: var(--warning)"
                    >traffic</span
                  >
                  <span
                    style="
                      font-size: var(--body-small-size);
                      color: var(--on-surface-variant);
                    "
                    >Light traffic</span
                  >
                </div>
                <div
                  style="
                    font-size: var(--body-small-size);
                    color: var(--on-surface-variant);
                  "
                >
                  Via FC Road and Baner Road
                </div>
              </div>

              <div class="route-card" onclick="selectRoute(1)">
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: var(--spacing-sm);
                  "
                >
                  <div>
                    <div
                      style="
                        font-weight: 600;
                        font-size: var(--body-large-size);
                      "
                    >
                      22 min
                    </div>
                    <div
                      style="
                        color: var(--on-surface-variant);
                        font-size: var(--body-small-size);
                      "
                    >
                      6.8 km ‚Ä¢ Avoid tolls
                    </div>
                  </div>
                  <div>
                    <span class="material-icons" style="color: var(--outline)"
                      >radio_button_unchecked</span
                    >
                  </div>
                </div>
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: var(--spacing-xs);
                    margin-bottom: var(--spacing-sm);
                  "
                >
                  <span
                    class="material-icons"
                    style="font-size: 16px; color: var(--success)"
                    >monetization_off</span
                  >
                  <span
                    style="
                      font-size: var(--body-small-size);
                      color: var(--on-surface-variant);
                    "
                    >No tolls</span
                  >
                </div>
                <div
                  style="
                    font-size: var(--body-small-size);
                    color: var(--on-surface-variant);
                  "
                >
                  Via University Road and Senapati Bapat Road
                </div>
              </div>

              <div class="route-card" onclick="selectRoute(2)">
                <div
                  style="
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: var(--spacing-sm);
                  "
                >
                  <div>
                    <div
                      style="
                        font-weight: 600;
                        font-size: var(--body-large-size);
                      "
                    >
                      25 min
                    </div>
                    <div
                      style="
                        color: var(--on-surface-variant);
                        font-size: var(--body-small-size);
                      "
                    >
                      7.1 km ‚Ä¢ Scenic route
                    </div>
                  </div>
                  <div>
                    <span class="material-icons" style="color: var(--outline)"
                      >radio_button_unchecked</span
                    >
                  </div>
                </div>
                <div
                  style="
                    display: flex;
                    align-items: center;
                    gap: var(--spacing-xs);
                    margin-bottom: var(--spacing-sm);
                  "
                >
                  <span
                    class="material-icons"
                    style="font-size: 16px; color: var(--primary)"
                    >nature</span
                  >
                  <span
                    style="
                      font-size: var(--body-small-size);
                      color: var(--on-surface-variant);
                    "
                    >Less traffic, scenic</span
                  >
                </div>
                <div
                  style="
                    font-size: var(--body-small-size);
                    color: var(--on-surface-variant);
                  "
                >
                  Via Pashan Lake Road and Aundh Road
                </div>
              </div>

              <div style="margin-top: var(--spacing-lg)">
                <button
                  class="btn btn-primary"
                  onclick="startNavigation()"
                  style="width: 100%"
                >
                  <span class="material-icons">navigation</span>
                  Start Navigation
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Route Navigation Screen -->
        <div class="screen" id="route-navigation">
          <div class="navigation-container">
            <div class="nav-map">
              <div style="text-align: center; color: var(--on-surface-variant)">
                <span
                  class="material-icons"
                  style="
                    font-size: 64px;
                    margin-bottom: var(--spacing-md);
                    color: var(--primary);
                  "
                  >navigation</span
                >
                <div style="font-size: var(--headline-small-size)">
                  Turn-by-Turn Navigation
                </div>
                <div
                  style="
                    font-size: var(--body-medium-size);
                    margin-top: var(--spacing-xs);
                  "
                >
                  GPS tracking and real-time guidance
                </div>
              </div>
            </div>

            <div class="nav-top-bar">
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                "
              >
                <button
                  onclick="navigateToScreen('route-options')"
                  style="
                    background: none;
                    border: none;
                    color: white;
                    cursor: pointer;
                  "
                >
                  <span class="material-icons">close</span>
                </button>

                <div style="text-align: center">
                  <div
                    style="
                      font-size: var(--headline-medium-size);
                      font-weight: 600;
                    "
                  >
                    3:42 PM
                  </div>
                  <div style="font-size: var(--body-small-size); opacity: 0.9">
                    15 min ‚Ä¢ 3.2 km remaining
                  </div>
                </div>

                <div style="display: flex; gap: var(--spacing-sm)">
                  <button
                    onclick="showToast('Voice guidance toggled')"
                    style="
                      background: rgba(255, 255, 255, 0.2);
                      border: none;
                      color: white;
                      padding: var(--spacing-sm);
                      border-radius: var(--radius-full);
                      cursor: pointer;
                    "
                  >
                    <span class="material-icons">volume_up</span>
                  </button>
                </div>
              </div>
            </div>

            <div class="instruction-panel">
              <div
                style="
                  display: flex;
                  align-items: center;
                  gap: var(--spacing-lg);
                  margin-bottom: var(--spacing-md);
                "
              >
                <div
                  style="
                    width: 60px;
                    height: 60px;
                    border-radius: var(--radius-full);
                    background-color: var(--primary);
                    color: var(--on-primary);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 32px;
                  "
                >
                  <span class="material-icons">turn_right</span>
                </div>
                <div>
                  <div
                    style="
                      font-size: var(--headline-small-size);
                      font-weight: 600;
                      color: var(--on-surface);
                      margin-bottom: 4px;
                    "
                  >
                    Turn right onto FC Road
                  </div>
                  <div
                    style="
                      font-size: var(--body-medium-size);
                      color: var(--on-surface-variant);
                    "
                  >
                    In 200 meters
                  </div>
                </div>
              </div>

              <div
                style="
                  display: flex;
                  align-items: center;
                  gap: var(--spacing-sm);
                  padding-top: var(--spacing-sm);
                  border-top: 1px solid var(--outline-variant);
                  font-size: var(--body-small-size);
                  color: var(--on-surface-variant);
                "
              >
                <span class="material-icons" style="font-size: 18px"
                  >turn_left</span
                >
                <span>Then continue straight for 1.2 km</span>
              </div>
            </div>

            <div
              style="
                position: absolute;
                bottom: 0;
                left: 0;
                right: 0;
                background-color: var(--surface);
                border-top: 1px solid var(--outline-variant);
                padding: var(--spacing-md);
                display: flex;
                gap: var(--spacing-md);
              "
            >
              <button
                class="btn btn-outlined"
                onclick="showToast('Reporting feature opened')"
              >
                <span class="material-icons">report_problem</span>
                Report
              </button>
              <button
                class="btn btn-outlined"
                onclick="showToast('Alternative routes shown')"
              >
                <span class="material-icons">alt_route</span>
                Routes
              </button>
              <button
                class="btn btn-primary"
                onclick="navigateToScreen('feedback')"
                style="flex: 1"
              >
                <span class="material-icons">stop</span>
                End Navigation
              </button>
            </div>
          </div>
        </div>

        <!-- Feedback Modal Screen -->
        <div class="screen" id="feedback">
          <div
            class="feedback-modal"
            style="width: 100%; max-width: none; height: 100%; border-radius: 0"
          >
            <div
              style="
                padding: var(--spacing-xl);
                text-align: center;
                border-bottom: 1px solid var(--outline-variant);
              "
            >
              <div
                style="
                  width: 80px;
                  height: 80px;
                  background: linear-gradient(
                    135deg,
                    var(--primary) 0%,
                    var(--secondary) 100%
                  );
                  border-radius: var(--radius-full);
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  margin: 0 auto var(--spacing-lg);
                "
              >
                <span
                  class="material-icons"
                  style="font-size: 40px; color: white"
                  >star</span
                >
              </div>
              <h2 style="margin-bottom: var(--spacing-sm)">
                How was your trip?
              </h2>
              <p style="color: var(--on-surface-variant)">
                Your feedback helps improve CityNav for everyone
              </p>
            </div>

            <div style="padding: var(--spacing-lg)">
              <div style="text-align: center; margin-bottom: var(--spacing-xl)">
                <div style="margin-bottom: var(--spacing-md)">
                  Rate your overall experience
                </div>
                <div
                  style="
                    display: flex;
                    justify-content: center;
                    gap: var(--spacing-xs);
                    margin-bottom: var(--spacing-lg);
                  "
                >
                  <span
                    class="material-icons"
                    style="
                      font-size: 40px;
                      color: var(--outline);
                      cursor: pointer;
                    "
                    onclick="setRating(1)"
                    >star</span
                  >
                  <span
                    class="material-icons"
                    style="
                      font-size: 40px;
                      color: var(--outline);
                      cursor: pointer;
                    "
                    onclick="setRating(2)"
                    >star</span
                  >
                  <span
                    class="material-icons"
                    style="
                      font-size: 40px;
                      color: var(--outline);
                      cursor: pointer;
                    "
                    onclick="setRating(3)"
                    >star</span
                  >
                  <span
                    class="material-icons"
                    style="
                      font-size: 40px;
                      color: var(--outline);
                      cursor: pointer;
                    "
                    onclick="setRating(4)"
                    >star</span
                  >
                  <span
                    class="material-icons"
                    style="
                      font-size: 40px;
                      color: var(--outline);
                      cursor: pointer;
                    "
                    onclick="setRating(5)"
                    >star</span
                  >
                </div>
                <div
                  id="ratingText"
                  style="color: var(--on-surface-variant); min-height: 24px"
                >
                  Tap a star to rate
                </div>
              </div>

              <div style="margin-bottom: var(--spacing-xl)">
                <div style="margin-bottom: var(--spacing-md)">
                  What did you like most?
                </div>
                <div
                  style="display: flex; flex-wrap: wrap; gap: var(--spacing-sm)"
                >
                  <div class="category-chip" onclick="toggleCategory(this)">
                    üß≠ Navigation accuracy
                  </div>
                  <div class="category-chip" onclick="toggleCategory(this)">
                    üì± Easy to use
                  </div>
                  <div class="category-chip" onclick="toggleCategory(this)">
                    ‚ö° Fast & reliable
                  </div>
                  <div class="category-chip" onclick="toggleCategory(this)">
                    üõ°Ô∏è Safety alerts
                  </div>
                </div>
              </div>

              <div style="margin-bottom: var(--spacing-xl)">
                <div style="margin-bottom: var(--spacing-md)">
                  Tell us more (optional)
                </div>
                <textarea
                  style="
                    width: 100%;
                    height: 100px;
                    padding: var(--spacing-md);
                    border: 2px solid var(--outline-variant);
                    border-radius: var(--radius-md);
                    resize: vertical;
                  "
                  placeholder="Share your thoughts, suggestions, or report any issues..."
                ></textarea>
              </div>

              <div style="display: flex; gap: var(--spacing-md)">
                <button
                  class="btn btn-text"
                  onclick="navigateToScreen('home')"
                  style="flex: 1"
                >
                  Maybe Later
                </button>
                <button
                  class="btn btn-primary"
                  onclick="submitFeedback()"
                  style="flex: 2"
                >
                  <span class="material-icons">send</span>
                  Submit Feedback
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Loading Screen -->
        <div class="screen" id="loading">
          <div class="loading-container">
            <div class="loading-logo">
              <span class="material-icons" style="font-size: 56px"
                >navigation</span
              >
            </div>
            <h1 class="loading-title">CityNav</h1>
            <p class="loading-message">
              Preparing your navigation experience...
            </p>
            <div
              style="
                display: flex;
                flex-direction: column;
                gap: var(--spacing-md);
                width: 100%;
                max-width: 300px;
              "
            >
              <div
                style="
                  display: flex;
                  align-items: center;
                  gap: var(--spacing-sm);
                  font-size: var(--body-medium-size);
                "
              >
                <span
                  class="material-icons"
                  style="color: rgba(255, 255, 255, 0.8)"
                  >download</span
                >
                <span>Downloading map data</span>
              </div>
              <div
                style="
                  display: flex;
                  align-items: center;
                  gap: var(--spacing-sm);
                  font-size: var(--body-medium-size);
                "
              >
                <span
                  class="material-icons"
                  style="color: rgba(255, 255, 255, 0.8)"
                  >gps_fixed</span
                >
                <span>Acquiring GPS location</span>
              </div>
              <div
                style="
                  display: flex;
                  align-items: center;
                  gap: var(--spacing-sm);
                  font-size: var(--body-medium-size);
                "
              >
                <span
                  class="material-icons"
                  style="color: rgba(255, 255, 255, 0.8)"
                  >cloud_sync</span
                >
                <span>Syncing preferences</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Error 404 Screen -->
        <div class="screen" id="error-404">
          <div class="error-container">
            <div class="error-illustration">
              <div class="error-circle">
                <span class="error-number">404</span>
              </div>
            </div>
            <h1
              style="
                font-size: var(--headline-large-size);
                margin-bottom: var(--spacing-sm);
              "
            >
              Oops! Page Not Found
            </h1>
            <h2 style="color: var(--error); margin-bottom: var(--spacing-md)">
              Lost on the digital map?
            </h2>
            <p
              style="
                color: var(--on-surface-variant);
                margin-bottom: var(--spacing-xl);
                text-align: center;
              "
            >
              The page you're looking for seems to have taken a wrong turn.
              Don't worry, even the best navigators sometimes need to
              recalculate their route!
            </p>
            <div
              style="
                display: flex;
                flex-direction: column;
                gap: var(--spacing-md);
              "
            >
              <button
                class="btn btn-primary"
                onclick="navigateToScreen('home')"
              >
                <span class="material-icons">home</span>
                Take Me Home
              </button>
              <button class="btn btn-outlined" onclick="window.history.back()">
                <span class="material-icons">arrow_back</span>
                Go Back
              </button>
            </div>
          </div>
        </div>

        <!-- Privacy Policy Screen -->
        <div class="screen" id="privacy-policy">
          <div class="privacy-container">
            <div class="privacy-header">
              <div
                style="
                  display: flex;
                  align-items: center;
                  gap: var(--spacing-sm);
                  margin-bottom: var(--spacing-md);
                "
              >
                <button
                  onclick="navigateToScreen('profile')"
                  style="
                    background: none;
                    border: none;
                    color: white;
                    cursor: pointer;
                  "
                >
                  <span class="material-icons">arrow_back</span>
                </button>
                <h1 style="margin: 0">Privacy Policy</h1>
              </div>
              <p>Your privacy is important to us</p>
              <div
                style="
                  font-size: var(--body-small-size);
                  opacity: 0.8;
                  margin-top: var(--spacing-sm);
                "
              >
                Last updated: December 15, 2024
              </div>
            </div>

            <div class="privacy-content">
              <div class="privacy-section">
                <h3 class="section-title">
                  <span class="material-icons">info</span>
                  Overview
                </h3>
                <p>
                  Welcome to CityNav! This Privacy Policy explains how we
                  collect, use, protect, and share your personal information
                  when you use our navigation and mapping services.
                </p>
              </div>

              <div class="privacy-section">
                <h3 class="section-title">
                  <span class="material-icons">location_on</span>
                  Location Data
                </h3>
                <p>
                  Location data is crucial for navigation services. We process
                  location data in real-time for navigation and do not store it
                  permanently on our servers.
                </p>
              </div>

              <div class="privacy-section">
                <h3 class="section-title">
                  <span class="material-icons">security</span>
                  Data Security
                </h3>
                <p>
                  We implement industry-standard security measures including
                  encryption in transit using TLS 1.3 and at rest using AES-256.
                </p>
              </div>

              <div class="privacy-section">
                <h3 class="section-title">
                  <span class="material-icons">gavel</span>
                  Your Rights
                </h3>
                <p>
                  You have the right to access, correct, delete, and export your
                  personal information. Contact us to exercise these rights.
                </p>
              </div>

              <div
                style="
                  text-align: center;
                  margin-top: var(--spacing-xl);
                  padding: var(--spacing-lg);
                  background-color: var(--surface-variant);
                  border-radius: var(--radius-md);
                "
              >
                <p style="margin-bottom: var(--spacing-md)">
                  Questions about privacy?
                </p>
                <button
                  class="btn btn-primary"
                  onclick="showToast('Contact form opened')"
                >
                  Contact Us
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Bottom Navigation -->
      <div class="bottom-nav">
        <a
          class="nav-item active"
          onclick="navigateToScreen('home')"
          data-screen="home"
        >
          <span class="material-icons">home</span>
          <span class="nav-label">Home</span>
        </a>
        <a class="nav-item" onclick="navigateToScreen('map')" data-screen="map">
          <span class="material-icons">map</span>
          <span class="nav-label">Map</span>
        </a>
        <a
          class="nav-item"
          onclick="navigateToScreen('search')"
          data-screen="search"
        >
          <span class="material-icons">search</span>
          <span class="nav-label">Search</span>
        </a>
        <a
          class="nav-item"
          onclick="navigateToScreen('safety')"
          data-screen="safety"
        >
          <span class="material-icons">shield</span>
          <span class="nav-label">Safety</span>
        </a>
        <a
          class="nav-item"
          onclick="navigateToScreen('profile')"
          data-screen="profile"
        >
          <span class="material-icons">person</span>
          <span class="nav-label">Profile</span>
        </a>
      </div>
    </div>

    <script>
      class CityNavApp {
        constructor() {
          this.currentScreen = "welcome";
          this.onboardingScreens = [
            "welcome",
            "feature-tour",
            "location-permission",
            "city-selection",
            "setup-complete",
          ];
          this.mainScreens = [
            "home",
            "map",
            "search",
            "nearby",
            "safety",
            "offline",
            "profile",
          ];
          this.allScreens = [...this.onboardingScreens, ...this.mainScreens];
          this.selectedLanguage = "en";
          this.onboardingComplete = false;
          this.currentFlow = "onboarding";

          this.init();
        }

        init() {
          // Check if onboarding is complete
          const onboardingComplete = localStorage.getItem("onboardingComplete");
          if (onboardingComplete === "true") {
            this.onboardingComplete = true;
            this.currentFlow = "main";
            this.currentScreen = "home";

            // Hide welcome screen and show home
            document.getElementById("welcome").classList.remove("active");
            document.getElementById("home").classList.add("active");

            // Show bottom navigation
            document.querySelector(".bottom-nav").classList.remove("hidden");
          } else {
            // Hide bottom navigation during onboarding
            document.querySelector(".bottom-nav").classList.add("hidden");
          }

          this.updateTime();
          this.setupEventListeners();

          // Update time every minute
          setInterval(() => this.updateTime(), 60000);

          // Auto-navigate from welcome after language selection
          this.setupLanguageSelection();
          this.setupSearch();
          this.setupCategories();
          this.setupCitySelection();
        }

        updateTime() {
          const now = new Date();
          const timeString = now.toLocaleTimeString("en-US", {
            hour: "2-digit",
            minute: "2-digit",
            hour12: false,
          });
          document.getElementById("currentTime").textContent = timeString;
        }

        setupEventListeners() {
          // Navigation items
          document.querySelectorAll(".nav-item").forEach((item) => {
            item.addEventListener("click", (e) => {
              e.preventDefault();
              const screen = item.dataset.screen;
              if (screen) {
                this.navigateToScreen(screen);
              }
            });
          });

          // Keyboard navigation
          document.addEventListener("keydown", (e) => {
            if (e.key === "ArrowLeft") {
              this.navigatePrevious();
            } else if (e.key === "ArrowRight") {
              this.navigateNext();
            } else if (e.key === "Escape") {
              this.navigateToScreen("home");
            }
          });
        }

        setupLanguageSelection() {
          document.querySelectorAll(".language-card").forEach((card) => {
            card.addEventListener("click", () => {
              document
                .querySelectorAll(".language-card")
                .forEach((c) => c.classList.remove("selected"));
              card.classList.add("selected");
              this.selectedLanguage = card.dataset.lang;
            });
          });
        }

        setupSearch() {
          const searchInput = document.getElementById("searchInput");
          if (searchInput) {
            searchInput.addEventListener("input", (e) => {
              this.performSearch(e.target.value);
            });
          }
        }

        setupCategories() {
          document.querySelectorAll(".category-chip").forEach((chip) => {
            chip.addEventListener("click", () => {
              const container = chip.parentElement;
              container
                .querySelectorAll(".category-chip")
                .forEach((c) => c.classList.remove("active"));
              chip.classList.add("active");
              this.filterByCategory(chip.dataset.category);
            });
          });
        }

        setupCitySelection() {
          document.querySelectorAll(".city-option").forEach((option) => {
            option.addEventListener("click", () => {
              // Remove previous selections
              document.querySelectorAll(".city-option").forEach((opt) => {
                opt.classList.remove("selected");
                opt.querySelector(".material-icons:last-child").textContent =
                  "radio_button_unchecked";
              });

              // Add selection to clicked option
              option.classList.add("selected");
              option.querySelector(".material-icons:last-child").textContent =
                "radio_button_checked";

              // Enable confirm button
              document.getElementById("confirmCityBtn").disabled = false;

              // Store selected city
              const cityName = option.dataset.city;
              localStorage.setItem("selectedCity", cityName);
            });
          });
        }

        navigateToScreen(screenId) {
          if (!this.allScreens.includes(screenId)) return;

          const currentScreenEl = document.getElementById(this.currentScreen);
          const newScreenEl = document.getElementById(screenId);

          if (!currentScreenEl || !newScreenEl) return;

          // Update current screen
          currentScreenEl.classList.remove("active");
          newScreenEl.classList.add("active");

          // Update navigation visibility based on flow
          const bottomNav = document.querySelector(".bottom-nav");
          if (this.onboardingScreens.includes(screenId)) {
            bottomNav.classList.add("hidden");
          } else {
            bottomNav.classList.remove("hidden");

            // Update navigation
            document.querySelectorAll(".nav-item").forEach((item) => {
              item.classList.remove("active");
            });

            const activeNavItem = document.querySelector(
              `[data-screen="${screenId}"]`
            );
            if (activeNavItem) {
              activeNavItem.classList.add("active");
            }
          }

          this.currentScreen = screenId;

          // Update flow status
          if (this.onboardingScreens.includes(screenId)) {
            this.currentFlow = "onboarding";
          } else {
            this.currentFlow = "main";
            this.onboardingComplete = true;
          }

          // Screen-specific actions
          this.onScreenChange(screenId);
        }

        navigateNext() {
          let currentScreens;
          if (this.currentFlow === "onboarding") {
            currentScreens = this.onboardingScreens;
          } else {
            currentScreens = this.mainScreens;
          }

          const currentIndex = currentScreens.indexOf(this.currentScreen);

          if (
            this.currentFlow === "onboarding" &&
            currentIndex === currentScreens.length - 1
          ) {
            // Complete onboarding and go to home
            this.navigateToScreen("home");
          } else if (currentIndex < currentScreens.length - 1) {
            const nextIndex = currentIndex + 1;
            this.navigateToScreen(currentScreens[nextIndex]);
          }
        }

        navigatePrevious() {
          let currentScreens;
          if (this.currentFlow === "onboarding") {
            currentScreens = this.onboardingScreens;
          } else {
            currentScreens = this.mainScreens;
          }

          const currentIndex = currentScreens.indexOf(this.currentScreen);

          if (currentIndex > 0) {
            const prevIndex = currentIndex - 1;
            this.navigateToScreen(currentScreens[prevIndex]);
          }
        }

        onScreenChange(screenId) {
          // Update city information when navigating to any screen
          this.updateCityInformation();

          switch (screenId) {
            case "home":
              this.loadHomeData();
              break;
            case "map":
              this.loadMapData();
              break;
            case "search":
              this.loadSearchResults();
              break;
            case "nearby":
              this.loadNearbyPlaces();
              break;
            case "safety":
              this.loadSafetyFeatures();
              break;
            case "offline":
              this.loadOfflineData();
              break;
            case "profile":
              this.loadProfileData();
              break;
            case "login":
              this.loadLoginData();
              break;
            case "poi-details":
              this.loadPOIData();
              break;
            case "route-options":
              this.loadRouteData();
              break;
            case "route-navigation":
              this.loadNavigationData();
              break;
            case "feedback":
              this.loadFeedbackData();
              break;
            case "loading":
              this.showLoadingAnimation();
              break;
            case "error-404":
              this.loadErrorData();
              break;
            case "privacy-policy":
              this.loadPrivacyData();
              break;
          }
        }

        loadHomeData() {
          console.log("Loading home dashboard data...");
          this.updateCityInformation();
        }

        performSearch(query) {
          console.log("Searching for:", query);
          // Implement search logic here
        }

        filterByCategory(category) {
          console.log("Filtering by category:", category);
          // Implement category filtering here
        }

        loadMapData() {
          console.log("Loading map data...");
        }

        loadSearchResults() {
          console.log("Loading search results...");
        }

        loadNearbyPlaces() {
          console.log("Loading nearby places...");
        }

        loadSafetyFeatures() {
          console.log("Loading safety features...");
        }

        loadOfflineData() {
          console.log("Loading offline data...");
        }

        loadProfileData() {
          console.log("Loading profile data...");
        }

        // New screen data loading methods
        loadLoginData() {
          console.log("Loading login screen...");
          // Reset form fields
          const inputs = document.querySelectorAll("#login .form-input");
          inputs.forEach((input) => (input.value = ""));
        }

        loadPOIData() {
          console.log("Loading POI details...");
          // This would load real POI data from API
          // For demo, we'll show some dynamic content
          const poi = {
            name: "Phoenix MarketCity",
            rating: 4.3,
            reviews: 2847,
            category: "Shopping Mall",
          };
          console.log("POI loaded:", poi);
        }

        loadRouteData() {
          console.log("Loading route options...");
          // This would calculate routes from API
          // For demo, simulate route calculation
          setTimeout(() => {
            console.log("Routes calculated successfully");
          }, 1000);
        }

        loadNavigationData() {
          console.log("Loading navigation interface...");
          // This would start GPS tracking and route guidance
          // For demo, simulate navigation start
          setTimeout(() => {
            console.log("Navigation started, GPS tracking active");
          }, 500);
        }

        loadFeedbackData() {
          console.log("Loading feedback form...");
          // Reset feedback form
          selectedRating = 0;
          selectedCategories.length = 0;

          // Reset star ratings
          const stars = document.querySelectorAll("#feedback .material-icons");
          stars.forEach((star) => {
            if (star.textContent === "star") {
              star.style.color = "var(--outline)";
            }
          });

          // Reset rating text
          const ratingText = document.getElementById("ratingText");
          if (ratingText) {
            ratingText.textContent = "Tap a star to rate";
          }

          // Reset category chips
          const chips = document.querySelectorAll("#feedback .category-chip");
          chips.forEach((chip) => {
            chip.classList.remove("selected");
            chip.style.backgroundColor = "var(--surface-variant)";
            chip.style.color = "var(--on-surface-variant)";
          });
        }

        showLoadingAnimation() {
          console.log("Showing loading animation...");
          // Simulate loading steps
          const steps = [
            { delay: 1000, message: "Downloading map data..." },
            { delay: 2000, message: "Acquiring GPS location..." },
            { delay: 3000, message: "Syncing preferences..." },
            { delay: 4000, message: "Ready to navigate!" },
          ];

          steps.forEach((step) => {
            setTimeout(() => {
              const messageElement = document.querySelector(
                "#loading .loading-message"
              );
              if (messageElement) {
                messageElement.textContent = step.message;
              }
            }, step.delay);
          });
        }

        loadErrorData() {
          console.log("Loading error screen...");
          // This would handle error state management
        }

        loadPrivacyData() {
          console.log("Loading privacy policy...");
          // This would load privacy policy content
          // For demo, simulate content loading
        }

        updateCityInformation() {
          const selectedCity =
            localStorage.getItem("selectedCity") || "Your City";
          const cityElements = document.querySelectorAll(".city-name");
          cityElements.forEach((el) => {
            if (el) el.textContent = selectedCity;
          });

          // Update home screen city info if present
          const homeGreeting = document.querySelector("#home .screen-title");
          if (homeGreeting && selectedCity !== "Your City") {
            const hour = new Date().getHours();
            let greeting = "Good Morning!";
            if (hour >= 12 && hour < 17) greeting = "Good Afternoon!";
            else if (hour >= 17) greeting = "Good Evening!";

            homeGreeting.textContent = greeting;
          }

          // Update city info in home header
          const cityInfo = document.querySelector("#home .body-medium");
          if (cityInfo && selectedCity !== "Your City") {
            cityInfo.textContent = `${selectedCity} ‚Ä¢ 24¬∞C ‚Ä¢ Sunny`;
          }
        }
      }

      // Global navigation function
      function navigateToScreen(screenId) {
        if (window.cityNavApp) {
          window.cityNavApp.navigateToScreen(screenId);
        }
      }

      // Onboarding functions
      function requestLocation() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(
            (position) => {
              console.log("Location granted:", position.coords);
              // Simulate city detection
              localStorage.setItem("selectedCity", "Pune");
              localStorage.setItem(
                "userLocation",
                JSON.stringify({
                  lat: position.coords.latitude,
                  lng: position.coords.longitude,
                })
              );
              navigateToScreen("setup-complete");
            },
            (error) => {
              console.log("Location denied:", error);
              navigateToScreen("city-selection");
            }
          );
        } else {
          navigateToScreen("city-selection");
        }
      }

      function completeSetup() {
        const selectedCity = localStorage.getItem("selectedCity");
        if (selectedCity) {
          navigateToScreen("setup-complete");
        }
      }

      function completeOnboarding() {
        localStorage.setItem("onboardingComplete", "true");
        navigateToScreen("home");
      }

      // New Screen Functions

      // Login Functions
      function performLogin() {
        showToast("Signing in...");
        setTimeout(() => {
          localStorage.setItem("userLoggedIn", "true");
          localStorage.setItem("userName", "John Doe");
          showToast("Welcome back!");
          navigateToScreen("home");
        }, 2000);
      }

      function loginWithGoogle() {
        showToast("Connecting with Google...");
        setTimeout(() => {
          localStorage.setItem("userLoggedIn", "true");
          localStorage.setItem("userName", "John Doe");
          showToast("Successfully signed in with Google");
          navigateToScreen("home");
        }, 1500);
      }

      function loginWithApple() {
        showToast("Connecting with Apple...");
        setTimeout(() => {
          localStorage.setItem("userLoggedIn", "true");
          localStorage.setItem("userName", "John Doe");
          showToast("Successfully signed in with Apple");
          navigateToScreen("home");
        }, 1500);
      }

      function continueAsGuest() {
        showToast("Continuing as guest...");
        setTimeout(() => {
          localStorage.setItem("guestMode", "true");
          navigateToScreen("home");
        }, 1000);
      }

      // POI Functions
      function sharePOI() {
        if (navigator.share) {
          navigator.share({
            title: "Phoenix MarketCity",
            text: "Check out this place on CityNav!",
            url: window.location.href,
          });
        } else {
          showToast("Share link copied to clipboard!");
        }
      }

      function savePOI() {
        showToast("Place saved to favorites ‚ù§Ô∏è");
        const btn = event.target
          .closest("button")
          .querySelector(".material-icons");
        btn.textContent = "favorite";
        btn.style.color = "#f44336";
      }

      function callPlace() {
        showToast("Calling +91 20 6745 4000...");
      }

      // Route Functions
      function selectRoute(routeIndex) {
        document.querySelectorAll(".route-card").forEach((card) => {
          card.classList.remove("selected");
          card.querySelector(".material-icons").textContent =
            "radio_button_unchecked";
          card.querySelector(".material-icons").style.color = "var(--outline)";
        });

        const selectedCard =
          document.querySelectorAll(".route-card")[routeIndex];
        selectedCard.classList.add("selected");
        selectedCard.querySelector(".material-icons").textContent =
          "radio_button_checked";
        selectedCard.querySelector(".material-icons").style.color =
          "var(--success, #4caf50)";

        showToast("Route selected");
      }

      function startNavigation() {
        showToast("Starting navigation...");
        setTimeout(() => {
          navigateToScreen("route-navigation");
        }, 1000);
      }

      // Route Tab Functions
      document.querySelectorAll(".route-tab").forEach((tab) => {
        tab.addEventListener("click", function () {
          document
            .querySelectorAll(".route-tab")
            .forEach((t) => t.classList.remove("active"));
          this.classList.add("active");

          const mode = this.dataset.mode;
          showToast(`Switched to ${mode} mode`);

          // Update route options based on mode (simulate different routes)
          updateRouteOptionsForMode(mode);
        });
      });

      function updateRouteOptionsForMode(mode) {
        const routeCards = document.querySelectorAll(".route-card");
        // This would update route options based on transport mode
        // For demo purposes, just show a toast
        console.log(`Updated routes for ${mode} mode`);
      }

      // Feedback Functions
      let selectedRating = 0;
      let selectedCategories = [];

      function setRating(rating) {
        selectedRating = rating;
        const stars = document.querySelectorAll("#feedback .material-icons");
        const ratingTexts = [
          "Tap a star to rate",
          "Poor - We can do better",
          "Fair - Room for improvement",
          "Good - Generally satisfied",
          "Great - Really enjoyed it",
          "Excellent - Loved it!",
        ];

        stars.forEach((star, index) => {
          if (index < rating) {
            star.style.color = "var(--warning)";
          } else {
            star.style.color = "var(--outline)";
          }
        });

        document.getElementById("ratingText").textContent = ratingTexts[rating];
      }

      function toggleCategory(element) {
        const isSelected = element.classList.contains("selected");

        if (isSelected) {
          element.classList.remove("selected");
          element.style.backgroundColor = "var(--surface-variant)";
          element.style.color = "var(--on-surface-variant)";
        } else {
          element.classList.add("selected");
          element.style.backgroundColor = "var(--primary)";
          element.style.color = "var(--on-primary)";
        }
      }

      function submitFeedback() {
        if (selectedRating === 0) {
          showToast("Please provide a rating");
          return;
        }

        showToast("Thank you for your feedback! üôè");
        setTimeout(() => {
          navigateToScreen("home");
        }, 2000);
      }

      // Loading Screen Functions
      function showLoadingScreen(nextScreen = "home", duration = 3000) {
        navigateToScreen("loading");
        setTimeout(() => {
          navigateToScreen(nextScreen);
        }, duration);
      }

      // Error Screen Functions
      function show404Error() {
        navigateToScreen("error-404");
      }

      // Privacy Policy Functions
      function openPrivacyPolicy() {
        navigateToScreen("privacy-policy");
      }

      // Toast Notification Function
      function showToast(message) {
        // Remove existing toast
        const existingToast = document.querySelector(".toast-notification");
        if (existingToast) {
          existingToast.remove();
        }

        const toast = document.createElement("div");
        toast.className = "toast-notification";
        toast.style.cssText = `
          position: fixed;
          top: 80px;
          left: 50%;
          transform: translateX(-50%);
          background-color: var(--inverse-surface);
          color: var(--inverse-on-surface);
          padding: var(--spacing-sm) var(--spacing-lg);
          border-radius: var(--radius-full);
          font-size: var(--body-medium-size);
          z-index: 2000;
          animation: slideDown 0.3s ease-out;
          box-shadow: var(--elevation-3);
          max-width: 90%;
          text-align: center;
        `;
        toast.textContent = message;
        document.body.appendChild(toast);

        setTimeout(() => {
          toast.remove();
        }, 3000);
      }

      // Enhanced Search Functions
      function searchPlaces() {
        const query = document.querySelector(".search-input")?.value;
        if (query) {
          showToast(`Searching for "${query}"...`);
          setTimeout(() => {
            navigateToScreen("poi-details");
          }, 1000);
        }
      }

      // Quick Actions from Home Screen
      function quickSearch(query) {
        showToast(`Searching for ${query}...`);
        setTimeout(() => {
          navigateToScreen("search");
        }, 500);
      }

      function findNearby(category) {
        showToast(`Finding nearby ${category}...`);
        setTimeout(() => {
          navigateToScreen("nearby");
        }, 500);
      }

      function openEmergency() {
        showToast("Emergency services contacted");
        navigateToScreen("safety");
      }

      // Authentication Functions
      function socialLogin(provider) {
        showToast(`Connecting to ${provider}...`);
        setTimeout(() => {
          showToast(`Welcome back! Logged in with ${provider}`);
          navigateToScreen("home");
        }, 2000);
      }

      function guestLogin() {
        showToast("Continuing as guest...");
        setTimeout(() => {
          navigateToScreen("home");
        }, 1000);
      }

      function loginUser() {
        const email = document.getElementById("loginEmail")?.value;
        const password = document.getElementById("loginPassword")?.value;

        if (!email || !password) {
          showToast("Please fill in all fields");
          return;
        }

        if (!isValidEmail(email)) {
          showToast("Please enter a valid email");
          return;
        }

        showToast("Signing in...");
        setTimeout(() => {
          showToast("Welcome back!");
          navigateToScreen("home");
        }, 1500);
      }

      function isValidEmail(email) {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
      }

      // POI Functions
      function sharePOI() {
        showToast("Sharing location...");
      }

      function savePOI() {
        showToast("Place saved to favorites!");
      }

      function callPOI() {
        showToast("Opening phone dialer...");
      }

      function showDirections() {
        showToast("Finding directions...");
        setTimeout(() => {
          navigateToScreen("route-options");
        }, 1000);
      }

      // Route Functions
      let selectedRoute = null;

      function selectRoute(index) {
        selectedRoute = index;

        // Update UI to show selection
        const routeCards = document.querySelectorAll(
          "#route-options .route-card"
        );
        routeCards.forEach((card, i) => {
          if (i === index) {
            card.style.backgroundColor = "var(--primary-container)";
            card.style.borderColor = "var(--primary)";
          } else {
            card.style.backgroundColor = "var(--surface)";
            card.style.borderColor = "var(--outline)";
          }
        });

        // Enable start button
        const startBtn = document.getElementById("startNavigationBtn");
        if (startBtn) {
          startBtn.disabled = false;
          startBtn.style.opacity = "1";
        }

        showToast(`Route ${index + 1} selected`);
      }

      function selectRouteType(type) {
        // Update route tab selection
        const tabs = document.querySelectorAll("#route-options .route-tab");
        tabs.forEach((tab) => {
          tab.style.backgroundColor = "var(--surface)";
          tab.style.color = "var(--on-surface)";
        });

        event.target.style.backgroundColor = "var(--primary)";
        event.target.style.color = "var(--on-primary)";

        showToast(`Showing ${type} routes`);
      }

      function startNavigation() {
        if (selectedRoute === null) {
          showToast("Please select a route first");
          return;
        }

        showToast("Starting navigation...");
        setTimeout(() => {
          navigateToScreen("route-navigation");
        }, 1000);
      }

      // Navigation Functions
      function endNavigation() {
        showToast("Navigation ended");
        setTimeout(() => {
          navigateToScreen("feedback");
        }, 500);
      }

      function muteNavigation() {
        showToast("Navigation muted");
      }

      function recenterMap() {
        showToast("Map centered on current location");
      }

      function showNavigationMenu() {
        showToast("Navigation options");
      }

      // Feedback Functions
      function rateExperience(rating) {
        selectedRating = rating;

        // Update star display
        const stars = document.querySelectorAll("#feedback .material-icons");
        stars.forEach((star, index) => {
          if (star.textContent === "star") {
            star.style.color =
              index < rating ? "var(--primary)" : "var(--outline)";
          }
        });

        // Update rating text
        const ratingText = document.getElementById("ratingText");
        const ratingLabels = [
          "",
          "Poor",
          "Fair",
          "Good",
          "Very Good",
          "Excellent",
        ];
        if (ratingText) {
          ratingText.textContent =
            ratingLabels[rating] || "Rate your experience";
        }

        showToast(`Rated ${rating} stars`);
      }

      function toggleFeedbackCategory(category) {
        const index = selectedCategories.indexOf(category);
        const chip = event.target;

        if (index > -1) {
          selectedCategories.splice(index, 1);
          chip.classList.remove("selected");
          chip.style.backgroundColor = "var(--surface-variant)";
          chip.style.color = "var(--on-surface-variant)";
        } else {
          selectedCategories.push(category);
          chip.classList.add("selected");
          chip.style.backgroundColor = "var(--primary)";
          chip.style.color = "var(--on-primary)";
        }
      }

      function submitFeedback() {
        if (selectedRating === 0) {
          showToast("Please provide a rating");
          return;
        }

        const comment = document.getElementById("feedbackComment")?.value || "";

        showToast("Thank you for your feedback!");
        setTimeout(() => {
          navigateToScreen("home");
        }, 1500);
      }

      function skipFeedback() {
        navigateToScreen("home");
      }

      // Loading Screen Functions
      function retryLoading() {
        showToast("Retrying...");
        showLoadingAnimation();
      }

      // Error Screen Functions
      function goHome() {
        navigateToScreen("home");
      }

      function refreshApp() {
        showToast("Refreshing app...");
        setTimeout(() => {
          navigateToScreen("home");
        }, 1000);
      }

      function reportIssue() {
        showToast("Opening support form...");
      }

      // Update profile navigation to include privacy policy
      document.addEventListener("DOMContentLoaded", function () {
        // Add click handler for privacy link in profile
        setTimeout(() => {
          const profileScreen = document.getElementById("profile");
          if (profileScreen) {
            const privacyItem = profileScreen.querySelector(
              ".result-item:nth-child(4)"
            );
            if (privacyItem) {
              privacyItem.addEventListener("click", () => {
                navigateToScreen("privacy-policy");
              });
            }
          }
        }, 1000);
      });

      // Enhanced navigation with loading states
      const originalNavigateToScreen = navigateToScreen;
      navigateToScreen = function (screenId) {
        // Show loading for certain transitions
        const loadingTransitions = {
          "poi-details": "Loading place details...",
          "route-options": "Finding best routes...",
          "route-navigation": "Starting navigation...",
          search: "Loading search...",
        };

        if (loadingTransitions[screenId]) {
          showToast(loadingTransitions[screenId]);
        }

        // Call original function
        originalNavigateToScreen(screenId);
      };

      // Add CSS animation for toast
      const toastStyle = document.createElement("style");
      toastStyle.textContent = `
        @keyframes slideDown {
          from {
            transform: translateX(-50%) translateY(-20px);
            opacity: 0;
          }
          to {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
          }
        }
        
        .category-chip {
          transition: all 0.2s ease;
          cursor: pointer;
        }
        
        .category-chip:hover {
          transform: scale(1.05);
        }
        
        .route-card {
          transition: all 0.3s ease;
        }
        
        .route-card:hover {
          transform: translateY(-2px);
        }
        
        .route-tab {
          transition: all 0.2s ease;
        }
        
        .form-input {
          transition: all 0.2s ease;
        }
        
        .auth-form .btn {
          transition: all 0.2s ease;
        }
        
        .auth-form .btn:hover {
          transform: translateY(-1px);
        }
      `;
      document.head.appendChild(toastStyle);

      // Initialize app when DOM is ready
      document.addEventListener("DOMContentLoaded", () => {
        window.cityNavApp = new CityNavApp();
      });

      // Add some interactive functionality
      document.addEventListener("click", (e) => {
        if (
          e.target.classList.contains("result-item") ||
          e.target.closest(".result-item")
        ) {
          const resultItem = e.target.classList.contains("result-item")
            ? e.target
            : e.target.closest(".result-item");
          resultItem.style.transform = "scale(0.98)";
          setTimeout(() => {
            resultItem.style.transform = "";
          }, 150);
        }
      });

      // Simulate loading states
      document.querySelectorAll(".action-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          btn.classList.add("loading");
          setTimeout(() => {
            btn.classList.remove("loading");
          }, 1000);
        });
      });
    </script>
  </body>
</html>

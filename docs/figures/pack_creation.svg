<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="700" height="420" viewBox="0 0 700 420">
  <style>
    .box { fill:#ffffff; stroke:#0b2545; stroke-width:1.4; }
    .title { font:14px 'Arial'; fill:#082a4b; font-weight:700 }
    .small { font:12px 'Arial'; fill:#0b2545 }
    .arrow { stroke:#0b2545; stroke-width:1.2; fill:none; marker-end:url(#arr); }
  </style>
  <defs>
    <marker id="arr" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#0b2545" />
    </marker>
  </defs>

  <rect x="30" y="30" width="140" height="40" class="box" rx="6" /><text x="40" y="55" class="title">Start (Create)</text>
  <rect x="190" y="30" width="180" height="40" class="box" rx="6" /><text x="210" y="55" class="title">Build Query</text>
  <rect x="400" y="30" width="140" height="40" class="box" rx="6" /><text x="420" y="55" class="title">POST Overpass</text>
  <rect x="30" y="120" width="180" height="40" class="box" rx="6" /><text x="40" y="145" class="title">Receive JSON</text>
  <rect x="240" y="120" width="160" height="40" class="box" rx="6" /><text x="255" y="145" class="title">Normalize â†’ POIs</text>
  <rect x="470" y="120" width="160" height="40" class="box" rx="6" /><text x="490" y="145" class="title">To NDJSON</text>
  <rect x="240" y="210" width="200" height="40" class="box" rx="6" /><text x="265" y="235" class="title">Attempt gzip</text>
  <rect x="30" y="300" width="200" height="40" class="box" rx="6" /><text x="50" y="325" class="title">Store gz Blob</text>
  <rect x="260" y="300" width="200" height="40" class="box" rx="6" /><text x="285" y="325" class="title">Store raw NDJSON</text>
  <rect x="500" y="300" width="160" height="40" class="box" rx="6" /><text x="520" y="325" class="title">Write manifest</text>
  <rect x="290" y="360" width="140" height="40" class="box" rx="6" /><text x="300" y="385" class="title">Done (visible)</text>

  <path d="M170 50 L190 50" class="arrow" />
  <path d="M370 50 L400 50" class="arrow" />
  <path d="M320 70 L320 120" class="arrow" />
  <path d="M400 140 L400 180" class="arrow" />
  <path d="M340 250 L340 300" class="arrow" />
  <path d="M230 240 L200 300" class="arrow" />
  <path d="M440 240 L480 300" class="arrow" />
  <path d="M360 320 L360 360" class="arrow" />
</svg>
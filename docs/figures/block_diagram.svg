<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="900" height="360" viewBox="0 0 900 360">
  <style>
    .box { fill:#f8fafc; stroke:#0f172a; stroke-width:1.5; }
    .small { font: 12px/1.2 'Arial'; fill:#0f172a }
    .title { font: 14px/1.2 'Arial'; font-weight:700; fill:#062a56 }
    .arrow { stroke:#0f172a; stroke-width:1.2; fill:none; marker-end:url(#arrowhead); }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#0f172a" />
    </marker>
  </defs>

  <!-- Boxes -->
  <rect x="20" y="20" width="140" height="60" class="box" rx="6" />
  <text x="40" y="45" class="title">User / Browser UI</text>

  <rect x="190" y="20" width="220" height="60" class="box" rx="6" />
  <text x="220" y="45" class="title">LeafletMap + PackManagerPanel</text>

  <rect x="440" y="20" width="140" height="60" class="box" rx="6" />
  <text x="460" y="45" class="title">useNearbyPOIs</text>

  <rect x="610" y="20" width="140" height="60" class="box" rx="6" />
  <text x="640" y="45" class="title">Overpass API</text>

  <rect x="440" y="120" width="160" height="60" class="box" rx="6" />
  <text x="470" y="150" class="title">Compression (pako)</text>
  <text x="470" y="165" class="small">gzip / fallback</text>

  <rect x="620" y="120" width="190" height="60" class="box" rx="6" />
  <text x="660" y="150" class="title">IndexedDB: data</text>
  <text x="660" y="165" class="small">(Blob / gz Blob)</text>

  <rect x="440" y="220" width="190" height="60" class="box" rx="6" />
  <text x="470" y="250" class="title">IndexedDB: manifests</text>

  <rect x="20" y="220" width="140" height="60" class="box" rx="6" />
  <text x="40" y="250" class="title">Export / Scripts</text>

  <!-- Arrows -->
  <path d="M160 50 L190 50" class="arrow" />
  <path d="M410 50 L440 50" class="arrow" />
  <path d="M580 50 L610 50" class="arrow" />
  <path d="M520 80 L520 120" class="arrow" />
  <path d="M600 150 L620 150" class="arrow" />
  <path d="M520 150 L520 220" class="arrow" />
  <path d="M190 250 L160 250" class="arrow" />

  <!-- Small labels -->
  <text x="205" y="32" class="small">Create Pack</text>
  <text x="318" y="32" class="small">Build Query</text>
  <text x="486" y="32" class="small">Overpass QL POST</text>
  <text x="495" y="108" class="small">NDJSON</text>
  <text x="675" y="108" class="small">Blob</text>
  <text x="505" y="200" class="small">Manifest</text>
  <text x="110" y="290" class="small">Download / Experiment scripts</text>
</svg>